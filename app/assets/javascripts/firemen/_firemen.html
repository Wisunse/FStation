<div layout="column" layout="column" layout-fill>

    <div layout="row" layout="column" layout-fill>

        <md-content flex="40">

            <md-card>
                <!--<md-input-container>-->
                    <!--<label>Szukaj</label>-->
                    <input placeholder="Szukaj" type="text" ng-model="firemenFilter">
                <!--</md-input-container>-->
                <md-tabs md-dynamic-height md-border-bottom md-center-tabs="true">

                    <md-tab label="WSZYSCY" >

                        <div layout="column" style="height:430px">
                            <md-content>

                                <md-list>
                                    <md-list-item class="md-2-line" md-whiteframe="1"
                                                  ng-repeat="fireman in firemen.allFiremen | filter:firemenFilter track by $index"
                                                  ng-click="firemen.selectFireman(fireman)"
                                                  ng-class="{'firemen-row__selected':firemen.selectedFireman.data == fireman}">

                                        <div class="md-list-item-text" layout="row" layout-align="start center">
                                            <img ng-src="/images/cat.jpeg" class="md-avatar" alt="" />
                                            <span flex="33" ng-bind="fireman.name"></span>
                                            <span flex="66" ng-bind="fireman.surname"></span>
                                        </div>

                                    </md-list-item>

                                </md-list>

                            </md-content>
                        </div>
                    </md-tab>

                    <md-tab label="MDP">
                        <div layout="column">
                            <md-list>
                                <md-list-item class="md-2-line"
                                              ng-repeat="fireman in firemen.allFiremen | filter:firemenFilter track by $index"
                                              ng-click="firemen.selectFireman(fireman)"
                                              ng-class="{'firemen-row__selected':firemen.selectedFireman.data == fireman}"
                                              ng-if="fireman.section=='MDP'">

                                    <div class="md-list-item-text" layout="row" layout-align="start center">
                                        <img ng-src="/images/cat.jpeg" class="md-avatar" alt="" />
                                        <span flex="33" ng-bind="fireman.name"></span>
                                        <span flex="66" ng-bind="fireman.surname"></span>
                                    </div>

                                </md-list-item>

                            </md-list>
                        </div>
                    </md-tab>

                    <md-tab label="CZYNNI">
                        <div layout="column">
                            <md-list>
                                <md-list-item class="md-2-line"
                                              ng-repeat="fireman in firemen.allFiremen | filter:firemenFilter track by $index"
                                              ng-if="fireman.section=='CZYNNI'"
                                              ng-click="firemen.selectFireman(fireman)"
                                              ng-class="{'firemen-row__selected':firemen.selectedFireman.data == fireman}">

                                    <div class="md-list-item-text" layout="row" layout-align="start center">
                                        <img ng-src="/images/cat.jpeg" class="md-avatar" alt="" />
                                        <span flex="33" ng-bind="fireman.name"></span>
                                        <span flex="66" ng-bind="fireman.surname"></span>
                                    </div>

                                </md-list-item>

                            </md-list>
                        </div>
                    </md-tab>

                    <md-tab label="HONOROWI">
                        <div layout="column">
                            <md-list>
                                <md-list-item class="md-2-line"
                                              ng-repeat="fireman in firemen.allFiremen | filter:firemenFilter track by $index"
                                              ng-if="fireman.section=='HONOROWI'"
                                              ng-click="firemen.selectFireman(fireman)"
                                              ng-class="{'firemen-row__selected':firemen.selectedFireman.data == fireman}">

                                    <div class="md-list-item-text" layout="row" layout-align="start center">
                                        <img ng-src="/images/cat.jpeg" class="md-avatar" alt="" />
                                        <span flex="33" ng-bind="fireman.name"></span>
                                        <span flex="66" ng-bind="fireman.surname"></span>
                                    </div>

                                </md-list-item>

                            </md-list>
                        </div>
                    </md-tab>

                    <md-tab label="ZWYKLI">
                        <div layout="column">
                            <md-list>
                                <md-list-item class="md-2-line"
                                              ng-repeat="fireman in firemen.allFiremen | filter:firemenFilter track by $index"
                                              ng-if="fireman.section=='ZWYKLI'"
                                              ng-click="firemen.selectFireman(fireman)"
                                              ng-class="{'firemen-row__selected':firemen.selectedFireman.data == fireman}">

                                    <div class="md-list-item-text" layout="row" layout-align="start center">
                                        <img ng-src="/images/cat.jpeg" class="md-avatar" alt="" />
                                        <span flex="33" ng-bind="fireman.name"></span>
                                        <span flex="66" ng-bind="fireman.surname"></span>
                                    </div>

                                </md-list-item>

                            </md-list>
                        </div>
                    </md-tab>

                </md-tabs>

                <md-button class="md-fab md-accent md-fab-bottom-right docs-scroll-fab md-ink-ripple scrolling"
                        type="button"
                        ng-click="addNewFireman()"
                        aria-label="Back to Top">
                    <md-icon>add</md-icon>
                </md-button>

            </md-card>

        </md-content>

        <md-card flex="60" layout="column" layout-fill ng-if="firemen.selectedFireman.data !== null">

                <md-tabs md-border-bottom md-center-tabs="true" layout="column" layout-fill md-stretch-tabs="always" flex>
                    <md-tab label="DANE">

                        <div layout="column" md-scroll-y layout-wrap >
                            <!--style="height:480px;width:100%;"-->
                            <md-content md-theme="docs-dark" layout-gt-sm="row" layout-padding>

                                <div>
                                    <md-input-container>
                                        <label>Imie</label>
                                        <input ng-model="firemen.selectedFireman.data.name">
                                    </md-input-container>

                                    <md-input-container>
                                        <label>Drugie Imie</label>
                                        <input ng-model="firemen.selectedFireman.data.second_name">
                                    </md-input-container>

                                    <md-input-container>
                                        <label>Nazwisko</label>
                                        <input ng-model="firemen.selectedFireman.data.surname">
                                    </md-input-container>
                                </div>

                            </md-content>

                            <md-content layout-gt-sm="row" layout-padding>
                                <div>
                                    <md-input-container>
                                        <label>Kod pocztowy</label>
                                        <input ng-model="firemen.selectedFireman.data.zip_code">
                                    </md-input-container>

                                    <md-input-container>
                                        <label>Miejscowość</label>
                                        <input ng-model="firemen.selectedFireman.data.place">
                                    </md-input-container>

                                    <md-input-container>
                                        <label>Pesel</label>
                                        <input ng-model="firemen.selectedFireman.data.pesel">
                                    </md-input-container>
                                </div>
                            </md-content>

                            <md-content layout-gt-sm="row" layout-padding>
                                <div layout-gt-sm="row" layout-padding>

                                    <md-input-container>
                                        <label>Imie ojca</label>
                                        <input ng-model="firemen.selectedFireman.data.father_name">
                                    </md-input-container>

                                    <md-input-container>
                                        <label>Miejsce urodzenia</label>
                                        <input ng-model="firemen.selectedFireman.data.birt_place">
                                    </md-input-container>

                                    <md-input-container>
                                        <label>Adres</label>
                                        <input ng-model="firemen.selectedFireman.data.adres">
                                    </md-input-container>



                                </div>
                            </md-content>

                            <md-content layout-gt-sm="row" layout-padding>
                                <div>
                                    <md-input-container>
                                        <label>Telefon</label>
                                        <input ng-model="firemen.selectedFireman.data.phone">
                                    </md-input-container>

                                    <md-input-container>
                                        <label>Email</label>
                                        <input ng-model="firemen.selectedFireman.data.email">
                                    </md-input-container>

                                    <md-input-container>
                                        <label>Notatki</label>
                                        <textarea ng-model="firemen.selectedFireman.data.note"></textarea>
                                    </md-input-container>

                                </div>
                            </md-content>


                            <md-content layout-gt-sm="row" layout-padding>
                                <div layout-gt-sm="row">

                                    <md-input-container>
                                        <label>Płeć</label>
                                        <md-select ng-model="firemen.selectedFireman.data.sex">
                                            <md-option ng-value="gen" ng-repeat="gen in gender">{{gen}}</md-option>
                                        </md-select>
                                    </md-input-container>

                                    <div layout-gt-xs="column">
                                        <div flex-gt-xs>
                                            <div>Data urodzenia</div>
                                            <md-datepicker ng-model="firemen.selectedFireman.data.birth_date" md-placeholder="12/11/1980" md-open-on-focus></md-datepicker>
                                        </div>
                                    </div>

                                    <div layout="row">
                                        <div layout-padding>Wiek: </div>
                                        <div layout-padding ng-bind="howOld(firemen.selectedFireman.data.birth_date)"></div>
                                    </div>

                                    <md-input-container>
                                        <label>Sekcja</label>
                                        <md-select ng-model="firemen.selectedFireman.data.section">
                                            <md-option ng-repeat="section in sections"
                                                       ng-value="section">{{section}}</md-option>
                                        </md-select>
                                    </md-input-container>

                                </div>
                            </md-content>




                        </div>
                        <div layout-align="space-between center" layout="row">
                            <div layout-align="center center">
                                <md-button class="md-raised md-primary"
                                           ng-click="saveEditFireman()">Zapisz zmiany</md-button>
                                <md-button class="md-raised md-primary"
                                           ng-click="saveEditFireman()">Drukuj</md-button>
                            </div>
                            <div layout-align="center center">
                                <md-button class="md-raised md-warn"
                                           ng-click="deleteFireman()">Usuń</md-button>
                            </div>
                        </div>

                    </md-tab-body>
                    </md-tab>

                    <md-tab label="BADANIA">
                        <md-list>
                            <md-list-item class="md-2-line" md-whiteframe="1">
                                <div class="md-list-item-text" layout="row" layout-align="start center">
                                    <span flex>Lp.</span>
                                    <span flex>Nazwa</span>
                                    <span flex>Data badania</span>
                                    <span flex>Ważność od</span>
                                    <span flex>Ważność do</span>
                                </div>
                            </md-list-item>

                            <md-list-item ng-repeat="medical in firemen.selectedFireman.medicals track by $index"
                                    class="md-2-line"
                                    md-whiteframe="1"
                                    ng-click="showEditMedical(medical)">
                                <div class="md-list-item-text" layout="row" layout-align="start center">
                                    <span flex ng-bind="$index+1"></span>
                                    <span flex ng-bind="medical.name"></span>
                                    <span flex ng-bind="medical.examination_date"></span>
                                    <span flex ng-bind="medical.start_date"></span>
                                    <span flex ng-bind="medical.end_date"></span>
                                </div>
                            </md-list-item>
                        </md-list>

                        <button class="md-fab md-fab-bottom-right docs-scroll-fab md-button md-ink-ripple scrolling"
                                type="button"
                                ng-click="addNewMedical()"
                                aria-label="add new medical">
                            <md-icon class="font-white">add</md-icon>
                        </button>

                    </md-tab>

                    <md-tab label="SZKOLENIA">

                        <md-list>
                            <md-list-item class="md-2-line" md-whiteframe="1">
                                <div class="md-list-item-text" layout="row" layout-align="start center">
                                    <span flex>Lp.</span>
                                    <span flex>Nazwa</span>
                                    <!--<span flex>Data kursu</span>-->
                                    <!--<span flex>Ważność do</span>-->
                                    <span flex>Ważność do</span>
                                    <span flex>Badania od</span>
                                    <span flex>Badania do</span>
                                </div>
                            </md-list-item>

                            <md-list-item class="md-2-line"
                                          md-whiteframe="1"
                                          ng-repeat="course in firemen.selectedFireman.courses track by $index"
                                          ng-click="showEditCourse(course)">
                                <div class="md-list-item-text" layout="row" layout-align="start center">
                                    <span flex ng-bind="$index+1"></span>
                                    <span flex ng-bind="course.name"></span>
                                    <!--<span flex ng-bind="course.date"></span>-->
                                    <!--<span flex ng-bind="course.date_course"></span>-->
                                    <span flex ng-bind="course.expiry_date"></span>
                                    <span flex ng-bind="course.medical_examination_from"></span>
                                    <span flex ng-bind="course.medical_examination_to"></span>
                                </div>
                            </md-list-item>
                        </md-list>

                        <button class="md-fab md-accent md-fab-bottom-right docs-scroll-fab md-button md-ink-ripple scrolling"
                                type="button"
                                ng-click="addNewCourse()"
                                aria-label="add new course">
                            <md-icon >add</md-icon>
                        </button>

                    </md-tab>


                        <md-tab label="ODZNACZENIA">

                            <md-list>
                                <md-list-item class="md-2-line" md-whiteframe="1">
                                    <div class="md-list-item-text" layout="row" layout-align="start center">
                                        <span flex>Lp.</span>
                                        <span flex>Nazwa</span>
                                        <span flex>Data nadania</span>
                                    </div>
                                </md-list-item>

                                <md-list-item class="md-2-line"
                                              md-whiteframe="1"
                                              ng-repeat="medal in firemen.selectedFireman.medals track by $index"
                                              ng-click="showEditMedal(medal)">
                                    <div class="md-list-item-text" layout="row" layout-align="start center">
                                        <span flex ng-bind="$index+1"></span>
                                        <span flex ng-bind="medal.name"></span>
                                        <span flex ng-bind="medal.granting_date"></span>
                                    </div>
                                </md-list-item>
                            </md-list>

                            <button class="md-fab md-accent md-fab-bottom-right docs-scroll-fab md-button md-ink-ripple scrolling"
                                    type="button"
                                    ng-click="addNewMedal()"
                                    aria-label="add new course">
                                <md-icon >add</md-icon>
                            </button>

                        </md-tab>

                    </md-card>

                </md-tabs>

        </md-card>

    </div>

</div>
